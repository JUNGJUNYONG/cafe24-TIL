# 07. 알고리즘 실용화

> 이 챕터에서는 대규모 데이터를 처리할 때 알고리즘 선택의 중요성에 대해 다루고 있다. 데이터의 규모가 커질수록 어떤 알고리즘, 데이터 구조를 선택하느냐에 따라 프로그램의 속도가 현저히 차이가 나기 때문에 더욱 중요하다. 하테나 프로그램들을 예시로 어떻게 알고리즘을 선택하는가에 대해 알아본다.


## 알고리즘과 평가
### 선형 탐색과 이분 탐색

- 선형 탐색은 n건의 데이터에서 원하는 데이터를 순차적으로 탐색하면서 최대 n번을 탐색하게 된다. 이를 빅오 표기법으로 표현하면

> _O(n)_

이 된다.

- 이분 탐색은 데이터를 분할하여 탐색해서 n건의 데이터에서 원하는 데이터를 찾는데 log n번의 탐색만 실행하게 된다. 이를 빅오 표기법으로 표현하면

> _O(log n)_

이 된다.

- 데이터의 수가 많아질수록 이 차이는 점점 커지게 된다. 따라서 계산량이 적은 알고리즘을 선택해야 한다.

## 알고리즘을 배우는 의의
- 컴퓨터의 자원은 유한하므로 해결해야 하는 문제를 유한한 자원 안에서 해결해야 한다.
- 엔지니어들의 공통 언어이기 때문에 커뮤니케이션을 하기 위해서 알고리즘을 알아야 한다.
- 기존 알고리즘을 알아둠으로써 새로운 문제에도 대처할 수 있다.


## 알고리즘의 평가
- Order 표기(빅오 표기법)을 이용한다.
- 빅오 표기법은 어떤 상황을 해결할 때 최대로 계산할 수 있는 경우를 나타낸다.(최악의 경우)
- 알고리즘의 계산량은 다음 순서로 많아진다.
> _O(1) < O(log n) < O(n) < O(n log n) < O(n^2) < O(n^3) < ... < O(n^k) < O(2^n)_
- 시간적 계산량 뿐만 아니라 공간적인 양에서도 사용된다.(메모리 사용량)

## 지수적, 대수적 감각
> 계산량이 지수적으로 증가하게 되면 데이터량이 적어도 계산량이 매우 커진다. 따라서 지수의 역인 대수적으로만 증가하는 O(log n) 알고리즘은 데이터의 크기가 매우 커져도 적은 계산량으로 문제를 해결할 수 있다는 것을 알 수 있다.

## 알고리즘과 데이터 구조
- 데이터 구조란 배열, 트리구조와 같이 대상이 되는 데이터를 저장 또는 표현하기 위한 구조를 말한다.
- 알고리즘의 동작 원리에 맞추어서 적절한 데이터 구조를 선택해야 한다.

## 계산량과 상수항
- 보통 빅오 표기법에서는 상수항을 무시한다. 계산량에 거의 영향을 주지 않기 때문이다.
- 하지만 계산 방법이 복잡해질수록 상수항은 무시할 수 없게 된다.
- 따라서 상수항을 염두에 두고 알고리즘을 구현하는 것이 좋다.

## 하테나 북마크 검색에서의 시행착오
- 하테나 북마크의 검색 기능을 Suffix Array를 이용하는 것으로 결정하였다.
- Suffix Array는 탐색은 빠르지만 전처리에 상당한 시간이 소요된다. 결국 SQL like에 의한 부분일치 검색을 이용하는 것으로 변경하였다.
- 실제로 완성해보니 무리없이 사용할 수 있었다.
- 이 사례를 통해서 예측이나 측정이 중요하다는 점, 사람의 직감으로 추측하는 것이 좋지 않다는 것을 알 수 있다.

## Trie 자료구조
- 탐색대상 데이터의 공통 접두사를 모아서 트리구조를 이룬다.
- "A", "to", "tea", "ted", "ten", "i", "in", and "inn" 을 키워드로 갖는 trie구조는 아래 그림과 같다.

![250px-Trie_example.svg](uploads/4ec1ba900c45fcb0ebe92a7ca1b5dd43/250px-Trie_example.svg.png)

- 이 구조를 사전과 비교하면서 패턴매칭을 하면 정규표현인 경우보다 계산량을 줄일 수 있다.

## AC법(Aho-Corasick법)
- AC법은 Trie에서의 패턴매칭으로 매칭이 진행되다가 도중에 실패했을 경우, 되돌아오는 길의 엣지를 다시 Trie에 추가한 데이터 구조를 사용하는 방법이다.
- 각 키워드의 위치를 미리 파악함으로써 다음 키워드 탐색을 빠르게 한다.
- 계산량이 사전 크기에 의존하지 않는다.
